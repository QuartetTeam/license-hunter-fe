#!/bin/sh
# .husky/prepare-commit-msg

COMMIT_MSG_FILE=$1
COMMIT_SOURCE=$2

if [ "$COMMIT_SOURCE" = "message" ]; then
  COMMIT_MSG=$(cat "$COMMIT_MSG_FILE")

  case $COMMIT_MSG in
    feat*)
      COMMIT_MSG="âœ¨ Feat:${COMMIT_MSG#feat:}"
      ;;
    fix*)
      COMMIT_MSG="ðŸŽ¯ Fix:${COMMIT_MSG#fix:}"
      ;;
    progress*)
      COMMIT_MSG="ðŸš§ Progress:${COMMIT_MSG#progress:}"
      ;;
    bug*)
      COMMIT_MSG="ðŸ› Bug:${COMMIT_MSG#bug:}"
      ;;
    design*)
      COMMIT_MSG="ðŸŽ¨ Design:${COMMIT_MSG#design:}"
      ;;
    style*)
      COMMIT_MSG="ðŸ’„ Style:${COMMIT_MSG#style:}"
      ;;
    refactor*)
      COMMIT_MSG="â™»ï¸ Refactor:${COMMIT_MSG#refactor:}"
      ;;
    comment*)
      COMMIT_MSG="ðŸ’¡ Comment:${COMMIT_MSG#comment:}"
      ;;
    docs*)
      COMMIT_MSG="ðŸ“‹ Docs:${COMMIT_MSG#docs:}"
      ;;
    test*)
      COMMIT_MSG="âœ… Test:${COMMIT_MSG#test:}"
      ;;
    chore*)
      COMMIT_MSG="ðŸ”– Chore:${COMMIT_MSG#chore:}"
      ;;
    rename*)
      COMMIT_MSG="ðŸ“ Rename:${COMMIT_MSG#rename:}"
      ;;
    remove*)
      COMMIT_MSG="ðŸ”¥ Remove:${COMMIT_MSG#remove:}"
      ;;
    init*)
      COMMIT_MSG="ðŸ“Œ Init:${COMMIT_MSG#init:}"
      ;;
    breaking*)
      COMMIT_MSG="ðŸš‘ !BREAKING CHANGE:${COMMIT_MSG#breaking:}"
      ;;
    merge*)
      COMMIT_MSG="ðŸ”” Merge Request:${COMMIT_MSG#merge:}"
      ;;
    perf*)
      COMMIT_MSG="âš¡ï¸ Perf:${COMMIT_MSG#perf:}"
      ;;
    ci*)
      COMMIT_MSG="ðŸ’š CI:${COMMIT_MSG#ci:}"
      ;;
  esac

  echo "$COMMIT_MSG" > "$COMMIT_MSG_FILE"
fi

npx jira-prepare-commit-msg $1